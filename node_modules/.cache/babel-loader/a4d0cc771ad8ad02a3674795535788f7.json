{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar React = require('react');\n\nvar Core = require('autoresponsive-core');\n\nvar GridSort = Core.GridSort;\n\nvar AnimationManager = require('./animation');\n\nvar noop = function noop() {};\n\nvar AutoResponsive = function (_React$Component) {\n  _inherits(AutoResponsive, _React$Component);\n\n  function AutoResponsive(props) {\n    _classCallCheck(this, AutoResponsive);\n\n    var _this = _possibleConstructorReturn(this, (AutoResponsive.__proto__ || Object.getPrototypeOf(AutoResponsive)).call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(AutoResponsive, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.sortManager = new GridSort({\n        containerWidth: this.props.containerWidth,\n        gridWidth: this.props.gridWidth\n      });\n      this.animationManager = new AnimationManager();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.containerWidth !== nextProps.containerWidth) {\n        this.sortManager.changeProps({\n          containerWidth: nextProps.containerWidth\n        });\n      }\n    }\n  }, {\n    key: 'setPrivateProps',\n    value: function setPrivateProps() {\n      this.containerStyle = {\n        position: 'relative',\n        height: this.containerHeight || 0\n      };\n\n      if (typeof this.props.containerHeight === 'number') {\n        this.fixedContainerHeight = true;\n        this.containerStyle.height = this.props.containerHeight;\n      } else {\n        this.fixedContainerHeight = false;\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate() {\n      this.sortManager.init();\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      var _this2 = this;\n\n      return React.Children.map(this.props.children, function (child, childIndex) {\n        if (child.props.className && _this2.props.itemClassName && !~child.props.className.indexOf(_this2.props.itemClassName)) {\n          return;\n        }\n\n        var childWidth = parseInt(child.props.style.width, 10) + _this2.props.itemMargin;\n\n        var childHeight = parseInt(child.props.style.height, 10) + _this2.props.itemMargin;\n\n        var calculatedPosition = _this2.sortManager.getPosition(childWidth, childHeight);\n\n        if (!_this2.fixedContainerHeight && _this2.props.containerWidth) {\n          if (calculatedPosition[1] + childHeight > _this2.containerStyle.height) {\n            _this2.containerStyle.height = calculatedPosition[1] + childHeight;\n          }\n        }\n\n        var options = Object.assign({}, _this2.props, {\n          position: calculatedPosition,\n          size: {\n            width: childWidth,\n            height: childHeight\n          },\n          containerHeight: _this2.containerStyle.height,\n          itemMargin: _this2.props.itemMargin\n        });\n\n        var calculatedStyle = _this2.animationManager.generate(options);\n\n        _this2.mixItemInlineStyle(calculatedStyle);\n\n        _this2.props.onItemDidLayout.call(_this2, child);\n\n        if (childIndex + 1 === _this2.props.children.length) {\n          _this2.props.onContainerDidLayout.call(_this2);\n        }\n\n        return React.cloneElement(child, {\n          style: Object.assign({}, child.props.style, calculatedStyle)\n        });\n      });\n    }\n  }, {\n    key: 'mixItemInlineStyle',\n    value: function mixItemInlineStyle(s) {\n      var itemMargin = this.props.itemMargin;\n      var style = {\n        display: 'block',\n        float: 'left',\n        margin: '0 ' + itemMargin + 'px ' + itemMargin + 'px 0'\n      };\n\n      if (this.props.containerWidth) {\n        style = {\n          position: 'absolute'\n        };\n      }\n\n      Object.assign(s, style);\n    }\n  }, {\n    key: 'getContainerStyle',\n    value: function getContainerStyle() {\n      return this.containerStyle;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.setPrivateProps();\n      return React.createElement('div', {\n        ref: 'container',\n        className: this.props.prefixClassName + '-container',\n        style: this.getContainerStyle()\n      }, this.renderChildren());\n    }\n  }]);\n\n  return AutoResponsive;\n}(React.Component);\n\nAutoResponsive.defaultProps = {\n  containerWidth: null,\n  containerHeight: null,\n  gridWidth: 10,\n  prefixClassName: 'rc-autoresponsive',\n  itemClassName: 'item',\n  itemMargin: 0,\n  horizontalDirection: 'left',\n  transitionDuration: 1,\n  transitionTimingFunction: 'linear',\n  verticalDirection: 'top',\n  closeAnimation: false,\n  onItemDidLayout: noop,\n  onContainerDidLayout: noop\n};\nmodule.exports = AutoResponsive;","map":{"version":3,"sources":["/Users/dc7/Desktop/SS/node_modules/autoresponsive-react/dist/index.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","require","Core","GridSort","AnimationManager","noop","AutoResponsive","_React$Component","_this","getPrototypeOf","state","componentWillMount","sortManager","containerWidth","gridWidth","animationManager","componentWillReceiveProps","nextProps","changeProps","setPrivateProps","containerStyle","position","height","containerHeight","fixedContainerHeight","componentWillUpdate","init","renderChildren","_this2","Children","map","children","child","childIndex","className","itemClassName","indexOf","childWidth","parseInt","style","width","itemMargin","childHeight","calculatedPosition","getPosition","options","assign","size","calculatedStyle","generate","mixItemInlineStyle","onItemDidLayout","onContainerDidLayout","cloneElement","s","display","float","margin","getContainerStyle","render","createElement","ref","prefixClassName","Component","defaultProps","horizontalDirection","transitionDuration","transitionTimingFunction","verticalDirection","closeAnimation","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Core = require('autoresponsive-core');\n\nvar GridSort = Core.GridSort;\n\n\nvar AnimationManager = require('./animation');\n\nvar noop = function noop() {};\n\nvar AutoResponsive = function (_React$Component) {\n  _inherits(AutoResponsive, _React$Component);\n\n  function AutoResponsive(props) {\n    _classCallCheck(this, AutoResponsive);\n\n    var _this = _possibleConstructorReturn(this, (AutoResponsive.__proto__ || Object.getPrototypeOf(AutoResponsive)).call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(AutoResponsive, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.sortManager = new GridSort({\n        containerWidth: this.props.containerWidth,\n        gridWidth: this.props.gridWidth\n      });\n\n      this.animationManager = new AnimationManager();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.containerWidth !== nextProps.containerWidth) {\n        this.sortManager.changeProps({\n          containerWidth: nextProps.containerWidth\n        });\n      }\n    }\n  }, {\n    key: 'setPrivateProps',\n    value: function setPrivateProps() {\n      this.containerStyle = {\n        position: 'relative',\n        height: this.containerHeight || 0\n      };\n\n      if (typeof this.props.containerHeight === 'number') {\n        this.fixedContainerHeight = true;\n        this.containerStyle.height = this.props.containerHeight;\n      } else {\n        this.fixedContainerHeight = false;\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate() {\n      this.sortManager.init();\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      var _this2 = this;\n\n      return React.Children.map(this.props.children, function (child, childIndex) {\n        if (child.props.className && _this2.props.itemClassName && !~child.props.className.indexOf(_this2.props.itemClassName)) {\n          return;\n        }\n\n        var childWidth = parseInt(child.props.style.width, 10) + _this2.props.itemMargin;\n        var childHeight = parseInt(child.props.style.height, 10) + _this2.props.itemMargin;\n\n        var calculatedPosition = _this2.sortManager.getPosition(childWidth, childHeight);\n\n        if (!_this2.fixedContainerHeight && _this2.props.containerWidth) {\n          if (calculatedPosition[1] + childHeight > _this2.containerStyle.height) {\n            _this2.containerStyle.height = calculatedPosition[1] + childHeight;\n          }\n        }\n\n        var options = Object.assign({}, _this2.props, {\n          position: calculatedPosition,\n          size: {\n            width: childWidth,\n            height: childHeight\n          },\n          containerHeight: _this2.containerStyle.height,\n          itemMargin: _this2.props.itemMargin\n        });\n\n        var calculatedStyle = _this2.animationManager.generate(options);\n\n        _this2.mixItemInlineStyle(calculatedStyle);\n\n        _this2.props.onItemDidLayout.call(_this2, child);\n\n        if (childIndex + 1 === _this2.props.children.length) {\n          _this2.props.onContainerDidLayout.call(_this2);\n        }\n\n        return React.cloneElement(child, {\n          style: Object.assign({}, child.props.style, calculatedStyle)\n        });\n      });\n    }\n  }, {\n    key: 'mixItemInlineStyle',\n    value: function mixItemInlineStyle(s) {\n      var itemMargin = this.props.itemMargin;\n      var style = {\n        display: 'block',\n        float: 'left',\n        margin: '0 ' + itemMargin + 'px ' + itemMargin + 'px 0'\n      };\n\n      if (this.props.containerWidth) {\n        style = {\n          position: 'absolute'\n        };\n      }\n      Object.assign(s, style);\n    }\n  }, {\n    key: 'getContainerStyle',\n    value: function getContainerStyle() {\n      return this.containerStyle;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.setPrivateProps();\n\n      return React.createElement(\n        'div',\n        { ref: 'container', className: this.props.prefixClassName + '-container', style: this.getContainerStyle() },\n        this.renderChildren()\n      );\n    }\n  }]);\n\n  return AutoResponsive;\n}(React.Component);\n\nAutoResponsive.defaultProps = {\n  containerWidth: null,\n  containerHeight: null,\n  gridWidth: 10,\n  prefixClassName: 'rc-autoresponsive',\n  itemClassName: 'item',\n  itemMargin: 0,\n  horizontalDirection: 'left',\n  transitionDuration: 1,\n  transitionTimingFunction: 'linear',\n  verticalDirection: 'top',\n  closeAnimation: false,\n  onItemDidLayout: noop,\n  onContainerDidLayout: noop\n};\n\nmodule.exports = AutoResponsive;"]},"metadata":{},"sourceType":"script"}